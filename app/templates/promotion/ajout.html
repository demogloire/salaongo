{% extends "layout/admin.html" %}

{% block css %}
<link href="{{ url_for('static', filename='admin/datapicker.css')}}" rel="stylesheet">
<style>
  label{margin-left: 20px;}
  #datepicker{width:180px; margin: 0 20px 20px 20px;}
  #datepicker > span:hover{cursor: pointer;}
  #datepicker1{width:180px; margin: 0 20px 20px 20px;}
  #datepicker1> span:hover{cursor: pointer;}
</style>

{%endblock%}

{% block body %}
    <div class="row">
      <div class="col-md-12 mt-5"> 
        <div class="row justify-content-center">
          <div class="col-md-10">
            <div class="card card-outline-secondary box-shadow--3dp">
              <div class="card-body">
                <h3><b>Ajouter une promotion</b></h3> <br>
                {% with messages= get_flashed_messages(with_categories=true) %}
                {% if messages  %}
                {% for category, message in messages %}
                {%if category!="danger"%}
                    <div class="alert round bg-{{ category }} alert-icon-left alert-dismissible mb-2" role="alert">
                        <span class="alert-icon">
                            <i class="fa fa-thumbs-o-up"></i>
                        </span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <strong>{{ message }}!</strong> 
                        
                    </div>
                {%else%}
                    <div class="alert round bg-{{ category }} alert-icon-left alert-dismissible mb-2" role="alert">
                        <span class="alert-icon">
                            <i class="fa fa-thumbs-o-down"></i>
                        </span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <strong>{{ message }}!</strong>
                        
                    </div>
                {%endif%}
                
                {% endfor %}
                {% endif %}
                {% endwith %}
                                        
                <form class="user" method="POST" enctype="multipart/form-data">
                  {{ form.csrf_token }}

                  <div class="form-group row">
                    <div class="col-md-12">
                      
                      {% if form.nom_promotion.errors %}
                      {{ form.nom_promotion(class="form-control form-control form-control-user datepicker input-md is-invalid", placeholder="Nom")}}
                      <div class="invalid-feedback">
                          {% for error in form.nom_promotion.errors %}
                              <span>{{ error }}</span>
                          {% endfor %}
                      </div>
                      {% else %}
                      {{ form.nom_promotion(class="form-control form-control form-control-user datepicker input-md", placeholder="Nom")}}
                      {% endif %}
                    </div>
        
                </div>



                    <div class="form-group row">
                      <div class="col-md-6">
                        <div id="datepicker" class="input-group date" data-date-format="dd-mm-yyyy">
                        {% if form.date_debut.errors %}
                        {{ form.date_debut(class="form-control input-md is-invalid", placeholder="Date de début")}}
                        <div class="invalid-feedback">
                            {% for error in form.date_debut.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% else %}
                        {{ form.date_debut(class="form-control input-md", placeholder="Date de début")}}
                        {% endif %}
                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                      </div>
                    </div>
                      <div class="col-md-6">
                        <div id="datepicker1" class="input-group date" data-date-format="dd-mm-yyyy">

                        {% if form.date_fin.errors %}
                        {{ form.date_fin(class="form-control input-md is-invalid", placeholder="Date de fin")}}
                        <div class="invalid-feedback">
                            {% for error in form.date_fin.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% else %}
                        {{ form.date_fin(class="form-control form-control-user input-md", placeholder="Date de fin")}}
                        {% endif %}
                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                      </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-md-6">
                          
                          {% if form.url.errors %}
                          {{ form.url(class="is-invalid", placeholder="Select file")}}
                          <div class="invalid-feedback">
                              {% for error in form.url.errors %}
                                  <span>{{ error }}</span>
                              {% endfor %}
                          </div>
                          {% else %}
                          {{ form.url(class="", placeholder="Select file")}}
                          {% endif %}
                        </div>
            
                    </div>

                    <div class="text-center mb-1">
                        <button class="btn btn-success btn-min-width mr-1 mb-1" id="submit" name="submit" type="submit">
                            <i class="la la-folder-o"></i> Enregistrer
                        </button>
                        <a class="btn btn-danger " href="{{url_for('promotion.index')}}  ">Annuler</a>     
                    </div>
                  </form>
              </div><!--/card-block-->
            </div><!-- /form card login -->
          </div>
        </div>
      </div><!--/col-->
    </div><!--/row-->



 

{% endblock body %}

{% block js %}
<script src="{{ url_for('static', filename='admin/bootstrap.js')}}"></script>
<script src="{{ url_for('static', filename='admin/js/bootstrap-datepicker.js')}}"></script>
<script>
  $(function () {
  $("#datepicker").datepicker({ 
        autoclose: true, 
        todayHighlight: true
  });
});


    $(function () {
      $("#datepicker1").datepicker({ 
            autoclose: true, 
            todayHighlight: true
      });
    });

</script>
{% endblock js %}

